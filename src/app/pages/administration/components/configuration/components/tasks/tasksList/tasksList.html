

<div>


      <p-accordion>
        <p-accordionTab  *ngFor="let editItem of _tasks"
          [header]="editItem.item.name ? editItem.item.name : 'New Task'">  <!--[isOpen]="editItem.item.name ? false : true"-->
          
            <ba-card
              title="Task's Info"
              baCardClass="with-scroll">
                <div class="col-lg-11 col-md-11">
                  <task-card
                    [hidden]="editItem.editing"
                    [task]="editItem.item">
                  </task-card>
                </div>
                <div class="col-lg-1 col-md-1">
                  <button
                    [hidden]="editItem.editing"
                    (click)="editItem.editing = true; aTaskIsOnEditMode = true;"
                    class="btn btn-primary btn-xs btn-icon">
                      <i class="ion-edit"></i>
                      Edit
                  </button>
                </div>

                <div class="col-lg-12 col-md-12">
                  <task-editor
                    (saved)="onSaved(editItem, $event)"
                    (canceled)="onCanceled(editItem)"
                    [hidden]="!editItem.editing"
                    [task]="editItem.item">
                  </task-editor>
                </div>
            </ba-card>

            <ba-card
              title="Task's Targets"
              baCardClass="with-scroll"
              [hidden]="!editItem.item.id"
              [hidden]="editItem.editing">

                <targets-task 
                  [taskId]="editItem.item.id">
                </targets-task>


                <!--<targets-task *ngIf="targetsReady"
                  [taskId]="editItem.item.id">
                </targets-task>-->

                <!--<targets-task 
                  [taskId]="editItem.item.id">
                </targets-task>-->


            </ba-card>

        </p-accordionTab>
    </p-accordion>



    <button
      (click)="addTask2Task()" 
      [disabled]="aTaskIsOnEditMode" 
      class="btn btn-primary btn-xs btn-icon">
        <i class="ion-plus-round"></i>
        Add Task
    </button>


</div>

